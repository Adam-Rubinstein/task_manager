<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox prefHeight="750.0" prefWidth="1100.0" xmlns="http://javafx.com/javafx/21.0.2"
      xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.taskmanager.ui.controllers.MainController">

    <!-- ÐœÐµÐ½ÑŽ Ð±Ð°Ñ€ -->
    <MenuBar>
        <menus>
            <Menu text="Ð¤Ð°Ð¹Ð»">
                <items>
                    <MenuItem text="Ð’Ñ‹Ñ…Ð¾Ð´" onAction="#handleExit"/>
                </items>
            </Menu>
        </menus>
    </MenuBar>

    <!-- ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚ -->
    <HBox VBox.vgrow="ALWAYS" spacing="10.0" style="-fx-padding: 10;">

        <!-- Ð›ÐµÐ²Ð°Ñ Ð¿Ð°Ð½ÐµÐ»ÑŒ - Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ/Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð·Ð°Ð´Ð°Ñ‡ -->
        <VBox prefWidth="350.0" spacing="10.0" style="-fx-border-color: #cccccc; -fx-padding: 10; -fx-font-size: 12;">

            <Label text="Ð¡ÐžÐ—Ð”ÐÐÐ˜Ð• Ð—ÐÐ”ÐÐ§Ð˜" style="-fx-font-size: 14; -fx-font-weight: bold;" />

            <!-- ÐŸÑ€Ð¾ÐºÑ€ÑƒÑ‡Ð¸Ð²Ð°ÐµÐ¼Ð°Ñ Ñ‡Ð°ÑÑ‚ÑŒ Ð´Ð»Ñ Ð¿Ð¾Ð»ÐµÐ¹ Ð²Ð²Ð¾Ð´Ð° -->
            <ScrollPane fitToWidth="true" style="-fx-padding: 0;" VBox.vgrow="ALWAYS">
                <VBox spacing="8.0" style="-fx-padding: 0;">

                    <!-- ÐÐÐ—Ð’ÐÐÐ˜Ð• Ð—ÐÐ”ÐÐ§Ð˜ (ÐžÐŸÐ¦Ð˜ÐžÐÐÐ›Ð¬ÐÐž) -->
                    <Label text="ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ:" style="-fx-font-weight: bold;" />
                    <TextField fx:id="taskNameInput" promptText="(Ð°Ð²Ñ‚Ð¾Ð·Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑÑ Ð¸Ð· Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ñ)" prefHeight="30.0" />

                    <!-- ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð·Ð°Ð´Ð°Ñ‡Ð¸ (ÐžÐ‘Ð¯Ð—ÐÐ¢Ð•Ð›Ð¬ÐÐž) -->
                    <Label text="ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ:" style="-fx-text-fill: #ff0000; -fx-font-weight: bold;" />
                    <TextArea fx:id="taskDescriptionInput" promptText="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ (Ð¿ÐµÑ€Ð²Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ° ÑÑ‚Ð°Ð½ÐµÑ‚ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸ÐµÐ¼)..." wrapText="true"
                              prefHeight="50.0" />

                    <!-- ÐŸÑ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚ -->
                    <Label text="ÐŸÑ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚ (0-10):" />
                    <Spinner fx:id="prioritySpinner" prefWidth="Infinity" />

                    <!-- Ð”Ð°Ñ‚Ð° Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ ÑÐ¾ Ð²Ñ€ÐµÐ¼ÐµÐ½ÐµÐ¼ -->
                    <Label text="Ð”Ð°Ñ‚Ð° Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ:" />
                    <HBox spacing="5.0">
                        <TextField fx:id="dueDateTimeInput" promptText="dd.MM.yyyy HH:mm" prefWidth="180.0" />
                        <Button fx:id="dueDatePickerBtn" text="ðŸ“…" prefWidth="40.0" onAction="#handleDatePickerClick" />
                    </HBox>

                    <!-- Ð¢Ð¸Ð¿ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð° -->
                    <Label text="Ð¢Ð¸Ð¿ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð°:" />
                    <ComboBox fx:id="recurrenceCombo" prefWidth="Infinity"
                              onAction="#handleRecurrenceChange" />

                    <!-- Ð˜Ð½Ñ‚ÐµÑ€Ð²Ð°Ð» Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð° - Ð¡ÐšÐ Ð«Ð’ÐÐ•Ð¢Ð¡Ð¯ ÐµÑÐ»Ð¸ Ð²Ñ‹Ð±Ñ€Ð°Ð½ "Ð‘ÐµÐ· Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð°" -->
                    <VBox fx:id="intervalContainer" spacing="8.0">
                        <Label text="Ð˜Ð½Ñ‚ÐµÑ€Ð²Ð°Ð» Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð° (Ð´Ð½ÐµÐ¹):" />
                        <Spinner fx:id="intervalSpinner" prefWidth="Infinity" />
                    </VBox>

                </VBox>
            </ScrollPane>

            <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ñ‡Ñƒ -->
            <Separator />
            <Button fx:id="createTaskButtonLeft" text="âœ“ Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ñ‡Ñƒ" onAction="#handleCreateTask"
                    prefWidth="Infinity" style="-fx-font-size: 12; -fx-padding: 8; -fx-font-weight: bold; -fx-min-height: 40;" />

        </VBox>

        <!-- ÐŸÑ€Ð°Ð²Ð°Ñ Ð¿Ð°Ð½ÐµÐ»ÑŒ - Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð¸ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ñ‹ -->
        <VBox HBox.hgrow="ALWAYS" spacing="10.0" style="-fx-padding: 10;">

            <!-- Ð’ÐµÑ€Ñ…Ð½ÑÑ Ð¿Ð°Ð½ÐµÐ»ÑŒ Ñ ÐºÐ½Ð¾Ð¿ÐºÐ°Ð¼Ð¸ -->
            <HBox spacing="10.0" style="-fx-alignment: center_left;">
                <Button fx:id="deleteTaskButtonRight" text="âœ• Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ñ‡Ñƒ" onAction="#handleDeleteTask"
                        style="-fx-font-size: 12; -fx-padding: 8 16; -fx-font-weight: bold; -fx-min-width: 130; -fx-text-fill: #ffffff; -fx-background-color: #ff5555;" />
                <Label text="Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ Ð¿Ð¾ ÑÑ‚Ð°Ñ‚ÑƒÑÑƒ:" />
                <ComboBox fx:id="statusFilter" prefWidth="200.0"
                          onAction="#handleFilterByStatus" />
                <Region HBox.hgrow="ALWAYS" />
            </HBox>

            <!-- Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° Ð·Ð°Ð´Ð°Ñ‡ -->
            <Label text="Ð¡ÐŸÐ˜Ð¡ÐžÐš Ð—ÐÐ”ÐÐ§" style="-fx-font-size: 14; -fx-font-weight: bold;" />
            <TableView fx:id="tasksTable" prefHeight="250.0" VBox.vgrow="ALWAYS" onMouseClicked="#handleTaskClick">
                <columns>
                    <TableColumn fx:id="titleColumn" text="ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ" prefWidth="150.0" />
                    <TableColumn fx:id="statusColumn" text="Ð¡Ñ‚Ð°Ñ‚ÑƒÑ" prefWidth="80.0" />
                    <TableColumn fx:id="priorityColumn" text="ÐŸÑ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚" prefWidth="80.0" />
                    <TableColumn fx:id="dueDateColumn" text="Ð¡Ñ€Ð¾Ðº" prefWidth="200.0" />
                </columns>
            </TableView>

            <!-- ÐžÐ¿Ð¾Ð²ÐµÑ‰ÐµÐ½Ð¸Ñ -->
            <Label text="ÐžÐŸÐžÐ’Ð•Ð©Ð•ÐÐ˜Ð¯" style="-fx-font-size: 14; -fx-font-weight: bold;" />
            <HBox spacing="10.0">
                <Label fx:id="alertsCountLabel" text="ÐžÐ¿Ð¾Ð²ÐµÑ‰ÐµÐ½Ð¸Ñ: 0" style="-fx-text-fill: #ff0000;" />
                <Region HBox.hgrow="ALWAYS" />
                <Button text="ÐŸÑ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ð½Ð¾" onAction="#handleMarkAlertAsRead" />
            </HBox>
            <ListView fx:id="alertsListView" prefHeight="80.0" VBox.vgrow="SOMETIMES" />

        </VBox>

    </HBox>

</VBox>
